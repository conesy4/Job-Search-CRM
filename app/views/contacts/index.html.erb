<div>
  <div>
    <h1>
      My Contacts
    </h1>
    <em>(create new contacts off My Company record)</em>
  </div>
</div>

<hr>

<!--

<div>
  <div>
    <h2>
      Add a new contact
    </h2>

    <form action="/insert_contact" method="post">
      <div>
        <label for="user_id_box">
          User
        </label>

        <input type="text" id="user_id_box" name="query_user_id" value= <%=@current_user.id%>>
      </div>

      <div>
        <label for="employee_id_box">
          Employee
        </label>

        <input type="text" id="employee_id_box" name="query_employee_id">
      </div>

      <div>
        <label for="bookmark_id_box">
          Firm
        </label>

        <select id="bookmark_id_box" name="query_bookmark_id">
          <% @list_of_bookmarks.each do |a_bookmark| %>
            <option value = <%=a_bookmark.id%>><%=a_bookmark.firm.name%></option>
          <%end%>
        </select>
      </div>


      <div>
        <label for="notes_box">
          Notes
        </label>

        <input type="text" id="notes_box" name="query_notes">
      </div>

      <div>
        <label for="relationship_box">
          Relationship
        </label>

        <input type="text" id="relationship_box" name="query_relationship">
      </div>

      <div>
        <label for="outgoing_comms_box">
          Outgoing comms
        </label>

        <input type="text" id="outgoing_comms_box" name="query_outgoing_comms">
      </div>

      <div>
        <label for="incoming_comms_box">
          Incoming comms
        </label>

        <input type="text" id="incoming_comms_box" name="query_incoming_comms">
      </div>

      <div>
        <label for="last_outgoing_comm_box">
          Last outgoing comm
        </label>

        <input type="date" id="last_outgoing_comm_box" name="query_last_outgoing_comm">
      </div>

      <div>
        <label for="last_incoming_comm_box">
          Last incoming comm
        </label>

        <input type="date" id="last_incoming_comm_box" name="query_last_incoming_comm">
      </div>

      <div>
        <label for="followup_date_box">
          Followup date
        </label>

        <input type="date" id="followup_date_box" name="query_followup_date">
      </div>

      <div>
        <label for="communications_count_box">
          Communications count
        </label>

        <input type="text" id="communications_count_box" name="query_communications_count">
      </div>

      <div>
        <label for="advocates_count_box">
          Advocates count
        </label>

        <input type="text" id="advocates_count_box" name="query_advocates_count">
      </div>

      <button>
        Create contact
      </button>
    </form>
  </div>
</div>

-->

<h3>Upcoming Followup Dates</h3>

<div>
  <div>
    <table>
      <tr>
        <th>
          Name
        </th>

        <th>
          My Company
        </th>

        <th>
          Role
        </th>

        <th>
          Email
        </th>

        <th>
          Relationship
        </th>

        <th>
          Notes
        </th>

<!--
        <th>
          # Comms
        </th>

        <th>
          Last outgoing comm
        </th>

        <th>
          Last incoming comm
        </th>

-->

        <th>
          Followup date
        </th>

      </tr>

      <% @list_of_contacts_upcoming.each do |a_contact| %>
      <tr>

        <td>
          <a href="/contacts/<%= a_contact.id %>">
            <%= a_contact.employee.first_name %> <%= a_contact.employee.last_name %>
           </a> 
        </td>

        <td>
          <a href="/bookmarks/<%= a_contact.bookmark_id %>">
            <%= a_contact.employee.firm.name %>
          </a>
        </td>

        <td>
          <%= a_contact.employee.role %>
        </td>

        <td>
          <%= a_contact.employee.email %>
        </td>

        <td>
          <%= a_contact.relationship %>
        </td>

        <td>
          <%= a_contact.notes %>
        </td>

<!--

        <td>
          <%= a_contact.communications_count %>
        </td>

        <td>
          <%= a_contact.last_outgoing_comm %>
        </td>

        <td>
          <%= a_contact.last_incoming_comm %>
        </td>
-->

        <td>
          <%= a_contact.followup_date %>
        </td>


      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>

<h3>Past Followup Dates</h3>

<div>
  <div>
    <table>
      <tr>
        <th>
          Name
        </th>

        <th>
          My Company
        </th>

        <th>
          Role
        </th>

        <th>
          Email
        </th>

        <th>
          Relationship
        </th>

        <th>
          Notes
        </th>

<!--
        <th>
          # Comms
        </th>

        <th>
          Last outgoing comm
        </th>

        <th>
          Last incoming comm
        </th>

-->

        <th>
          Followup date
        </th>

      </tr>

      <% @list_of_contacts_past.each do |a_contact| %>
      <tr>

        <td>
          <a href="/contacts/<%= a_contact.id %>">
            <%= a_contact.employee.first_name %> <%= a_contact.employee.last_name %>
           </a> 
        </td>

        <td>
          <a href="/bookmarks/<%= a_contact.bookmark_id %>">
            <%= a_contact.employee.firm.name %>
          </a>
        </td>

        <td>
          <%= a_contact.employee.role %>
        </td>

        <td>
          <%= a_contact.employee.email %>
        </td>

        <td>
          <%= a_contact.relationship %>
        </td>

        <td>
          <%= a_contact.notes %>
        </td>

<!--

        <td>
          <%= a_contact.communications_count %>
        </td>

        <td>
          <%= a_contact.last_outgoing_comm %>
        </td>

        <td>
          <%= a_contact.last_incoming_comm %>
        </td>
-->

        <td>
          <%= a_contact.followup_date %>
        </td>


      </tr>
      <% end %>
    </table>
  </div>
</div>


<hr>

<h3>All Contacts</h3>

<div>
  <div>
    <table>
      <tr>
        <th>
          Name
        </th>

        <th>
          My Company
        </th>

        <th>
          Role
        </th>

        <th>
          Email
        </th>

        <th>
          Relationship
        </th>

        <th>
          Notes
        </th>

<!--
        <th>
          # Comms
        </th>

        <th>
          Last outgoing comm
        </th>

        <th>
          Last incoming comm
        </th>

-->

        <th>
          Followup date
        </th>

      </tr>

      <% @list_of_contacts_all.each do |a_contact| %>
      <tr>

        <td>
          <a href="/contacts/<%= a_contact.id %>">
            <%= a_contact.employee.first_name %> <%= a_contact.employee.last_name %>
           </a> 
        </td>

        <td>
          <a href="/bookmarks/<%= a_contact.bookmark_id %>">
            <%= a_contact.employee.firm.name %>
          </a>
        </td>

        <td>
          <%= a_contact.employee.role %>
        </td>

        <td>
          <%= a_contact.employee.email %>
        </td>

        <td>
          <%= a_contact.relationship %>
        </td>

        <td>
          <%= a_contact.notes %>
        </td>

<!--

        <td>
          <%= a_contact.communications_count %>
        </td>

        <td>
          <%= a_contact.last_outgoing_comm %>
        </td>

        <td>
          <%= a_contact.last_incoming_comm %>
        </td>
-->

        <td>
          <%= a_contact.followup_date %>
        </td>


      </tr>
      <% end %>
    </table>
  </div>
</div>